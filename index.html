<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaci√≥n Flash Python - Conceptos Fundamentales</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 3px solid #667eea;
        }
        
        .header h1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 16px;
        }
        
        .mode-selector {
            display: flex;
            gap: 20px;
            margin-bottom: 40px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .mode-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 20px;
            background: white;
            border: 3px solid #e8eaf0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 150px;
        }
        
        .mode-option:hover {
            border-color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
        }
        
        .mode-option.active {
            border-color: #667eea;
            background: linear-gradient(135deg, #f0f4ff 0%, #f5f0ff 100%);
        }
        
        .mode-option input[type="radio"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: #667eea;
        }
        
        .mode-option label {
            cursor: pointer;
            margin: 0;
            font-weight: 700;
            text-align: center;
        }
        
        .timer-display {
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            font-size: 24px;
            font-weight: 700;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            z-index: 1000;
            animation: pulse 0.5s ease-in-out;
        }
        
        .timer-display.active {
            display: block;
        }
        
        .timer-display.warning {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            animation: pulse 0.3s ease-in-out infinite;
        }
        
        .timer-display.danger {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            animation: pulse 0.2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .section-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin-top: 30px;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 700;
        }
        
        .question-group {
            background: #f8f9fa;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 12px;
            border-left: 5px solid #667eea;
        }
        
        .question-label {
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 12px;
            font-size: 15px;
        }
        
        .multiple-choice {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 10px;
        }
        
        .choice-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border: 2px solid #e8eaf0;
            transition: all 0.3s;
        }
        
        .choice-item:hover {
            border-color: #667eea;
            background: #f5f7ff;
        }
        
        .choice-item input[type="checkbox"],
        .choice-item input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #667eea;
        }
        
        .choice-item label {
            cursor: pointer;
            margin: 0;
            flex: 1;
        }
        
        .fill-in-group {
            margin-top: 10px;
        }
        
        .fill-in-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e8eaf0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .fill-in-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }
        
        .true-false-group {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .tf-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background: white;
            border: 2px solid #e8eaf0;
            border-radius: 8px;
            cursor: pointer;
            flex: 1;
            transition: all 0.3s;
        }
        
        .tf-option:hover {
            border-color: #667eea;
            background: #f5f7ff;
        }
        
        .tf-option input[type="radio"] {
            width: 18px;
            height: 18px;
            accent-color: #667eea;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 40px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 32px;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .btn-submit {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-width: 160px;
        }
        
        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.35);
        }
        
        .btn-reset {
            background: linear-gradient(135deg, #a8a8a8 0%, #6b6b6b 100%);
            color: white;
            min-width: 160px;
        }
        
        .btn-reset:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(107, 107, 107, 0.35);
        }
        
        .btn-pdf {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            min-width: 160px;
        }
        
        .btn-pdf:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(17, 153, 142, 0.35);
        }
        
        .mode-section {
            display: block;
        }
        
        .mode-section.hide {
            display: none;
        }
        
        .form-section {
            display: none;
        }
        
        .form-section.show {
            display: block;
            animation: slideIn 0.3s ease;
        }
        
        .report-section {
            display: none;
        }
        
        .report-section.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .report-title {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .report-card {
            background: linear-gradient(135deg, #f0f4ff 0%, #f5f0ff 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            border-left: 6px solid #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);
        }
        
        .report-card.excellent {
            border-left-color: #38ef7d;
            background: linear-gradient(135deg, #f0fff4 0%, #e8f5f0 100%);
        }
        
        .report-card.good {
            border-left-color: #667eea;
            background: linear-gradient(135deg, #f0f4ff 0%, #f5f0ff 100%);
        }
        
        .report-card.needswork {
            border-left-color: #ff9800;
            background: linear-gradient(135deg, #fff5e6 0%, #ffe8cc 100%);
        }
        
        .report-category-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .score-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 14px;
        }
        
        .score-badge.excellent {
            background: #38ef7d;
            color: white;
        }
        
        .score-badge.good {
            background: #667eea;
            color: white;
        }
        
        .score-badge.needswork {
            background: #ff9800;
            color: white;
        }
        
        .report-feedback {
            color: #2c3e50;
            line-height: 1.8;
            margin-top: 12px;
        }
        
        .inspiration-box {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-top: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .inspiration-box h3 {
            font-size: 20px;
            margin-bottom: 12px;
        }
        
        .inspiration-box p {
            font-size: 16px;
            line-height: 1.6;
        }
        
        .overall-score {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            margin-bottom: 25px;
        }
        
        .overall-score h2 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .overall-score p {
            font-size: 18px;
        }
        
        .timer-result {
            background: linear-gradient(135deg, #fff5e6 0%, #ffe8cc 100%);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #ff9800;
            margin-top: 15px;
            color: #e65100;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .timer-display {
                top: 10px;
                right: 10px;
                padding: 10px 15px;
                font-size: 18px;
            }
            
            .true-false-group {
                flex-direction: column;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .mode-option {
                min-width: 120px;
            }
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                border: none;
            }
            
            .button-group {
                display: none;
            }
            
            .form-section {
                display: none;
            }
            
            .timer-display {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üêç Evaluaci√≥n Flash Python</h1>
            <p>Conceptos Fundamentales para Principiantes</p>
        </div>
        
        <!-- TIMER DISPLAY -->
        <div class="timer-display" id="timerDisplay">‚è± 15:00</div>
        
        <!-- MODE SELECTOR -->
        <div class="mode-section" id="modeSection">
            <div style="text-align: center; margin-bottom: 20px;">
                <h3 style="color: #667eea; margin-bottom: 15px;">¬øC√≥mo deseas hacer la evaluaci√≥n?</h3>
            </div>
            
            <div class="mode-selector">
                <div class="mode-option active" onclick="selectMode('normal', event)">
                    <input type="radio" id="mode-normal" name="testMode" value="normal" checked>
                    <label for="mode-normal">Sin Cron√≥metro</label>
                    <p style="font-size: 12px; color: #999; margin: 5px 0 0 0;">Responde sin presi√≥n</p>
                </div>
                
                <div class="mode-option" onclick="selectMode('timer10', event)">
                    <input type="radio" id="mode-timer10" name="testMode" value="timer10">
                    <label for="mode-timer10">‚è± 10 Segundos</label>
                    <p style="font-size: 12px; color: #999; margin: 5px 0 0 0;">Modo r√°pido</p>
                </div>
                
                <div class="mode-option" onclick="selectMode('timer15', event)">
                    <input type="radio" id="mode-timer15" name="testMode" value="timer15">
                    <label for="mode-timer15">‚è± 15 Segundos</label>
                    <p style="font-size: 12px; color: #999; margin: 5px 0 0 0;">Modo desaf√≠o</p>
                </div>
            </div>
            
            <div class="button-group" style="margin-top: 30px;">
                <button type="button" class="btn btn-submit" onclick="startTest()">üöÄ Comenzar Evaluaci√≥n</button>
            </div>
        </div>
        
        <!-- ASSESSMENT FORM -->
        <form id="assessmentForm" class="form-section">
            <!-- SECCI√ìN 1: SINTAXIS DE OBJETOS -->
            <div class="section-title">üìù Secci√≥n 1: Sintaxis de Objetos (Comillas y Par√©ntesis)</div>
            
            <div class="question-group">
                <div class="question-label">P1.1 (Opci√≥n M√∫ltiple): ¬øCu√°les son formas v√°lidas para definir una cadena en Python?</div>
                <div class="multiple-choice">
                    <div class="choice-item">
                        <input type="checkbox" id="p1_1a" name="p1_1" value="1">
                        <label for="p1_1a">'texto entre comillas simples'</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p1_1b" name="p1_1" value="1">
                        <label for="p1_1b">"texto entre comillas dobles"</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p1_1c" name="p1_1" value="0">
                        <label for="p1_1c">`texto entre backticks`</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p1_1d" name="p1_1" value="1">
                        <label for="p1_1d">"""texto entre triple comillas"""</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P1.2 (Rellenar): ¬øCon qu√© caracteres se define una tupla en Python? Escribe los dos caracteres:</div>
                <div class="fill-in-group">
                    <input type="text" id="p1_2" name="p1_2" placeholder="Ej: ( )" maxlength="10">
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P1.3 (Verdadero/Falso): Las comillas triples ("""texto""") se usan para cadenas multil√≠nea en Python.</div>
                <div class="true-false-group">
                    <div class="tf-option">
                        <input type="radio" id="p1_3_v" name="p1_3" value="verdadero">
                        <label for="p1_3_v">Verdadero</label>
                    </div>
                    <div class="tf-option">
                        <input type="radio" id="p1_3_f" name="p1_3" value="falso">
                        <label for="p1_3_f">Falso</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P1.4 (Identificar): Identifica el tipo de objeto en: {"clave": 1, "otro": 2}</div>
                <div class="fill-in-group">
                    <input type="text" id="p1_4" name="p1_4" placeholder="Ej: diccionario" maxlength="30">
                </div>
            </div>
            
            <!-- SECCI√ìN 2: SEGMENTACI√ìN (SLICING) -->
            <div class="section-title">‚úÇÔ∏è Secci√≥n 2: Segmentaci√≥n de Objetos (Slicing)</div>
            
            <div class="question-group">
                <div class="question-label">P2.1 (Opci√≥n M√∫ltiple): ¬øCu√°les objetos Python permiten segmentaci√≥n por √≠ndice?</div>
                <div class="multiple-choice">
                    <div class="choice-item">
                        <input type="checkbox" id="p2_1a" name="p2_1" value="1">
                        <label for="p2_1a">lista</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p2_1b" name="p2_1" value="1">
                        <label for="p2_1b">tupla</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p2_1c" name="p2_1" value="0">
                        <label for="p2_1c">conjunto (set)</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p2_1d" name="p2_1" value="1">
                        <label for="p2_1d">cadena (string)</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P2.2 (Rellenar): Escribe la expresi√≥n para acceder a los √∫ltimos 3 elementos de una lista llamada 'datos':</div>
                <div class="fill-in-group">
                    <input type="text" id="p2_2" name="p2_2" placeholder="Ej: datos[-3:]" maxlength="30">
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P2.3 (Verdadero/Falso): Puedo usar segmentaci√≥n (slicing) en un conjunto (set).</div>
                <div class="true-false-group">
                    <div class="tf-option">
                        <input type="radio" id="p2_3_v" name="p2_3" value="verdadero">
                        <label for="p2_3_v">Verdadero</label>
                    </div>
                    <div class="tf-option">
                        <input type="radio" id="p2_3_f" name="p2_3" value="falso">
                        <label for="p2_3_f">Falso</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P2.4 (Identificar): ¬øCu√°l es el resultado de x = "python"[1:4]?</div>
                <div class="fill-in-group">
                    <input type="text" id="p2_4" name="p2_4" placeholder="Ej: yth" maxlength="30">
                </div>
            </div>
            
            <!-- SECCI√ìN 3: SERIES vs DATAFRAME -->
            <div class="section-title">üìä Secci√≥n 3: Series vs DataFrame (Pandas)</div>
            
            <div class="question-group">
                <div class="question-label">P3.1 (Opci√≥n M√∫ltiple): ¬øQu√© caracter√≠sticas ofrece solo DataFrame, no Series?</div>
                <div class="multiple-choice">
                    <div class="choice-item">
                        <input type="checkbox" id="p3_1a" name="p3_1" value="1">
                        <label for="p3_1a">Almacenamiento de m√∫ltiples columnas</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p3_1b" name="p3_1" value="1">
                        <label for="p3_1b">Indexaci√≥n de filas y columnas</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p3_1c" name="p3_1" value="1">
                        <label for="p3_1c">Habilidad de seleccionar columnas</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p3_1d" name="p3_1" value="0">
                        <label for="p3_1d">Matem√°ticas elemento a elemento</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P3.2 (Rellenar): ¬øCu√°l es la librer√≠a de Python para Series y DataFrame?</div>
                <div class="fill-in-group">
                    <input type="text" id="p3_2" name="p3_2" placeholder="Ej: pandas" maxlength="30">
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P3.3 (Verdadero/Falso): Una Series de pandas solo puede almacenar una √∫nica columna de datos.</div>
                <div class="true-false-group">
                    <div class="tf-option">
                        <input type="radio" id="p3_3_v" name="p3_3" value="verdadero">
                        <label for="p3_3_v">Verdadero</label>
                    </div>
                    <div class="tf-option">
                        <input type="radio" id="p3_3_f" name="p3_3" value="falso">
                        <label for="p3_3_f">Falso</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P3.4 (Identificar): ¬øQu√© tipo de objeto se crea con pd.Series([10, 20, 30])?</div>
                <div class="fill-in-group">
                    <input type="text" id="p3_4" name="p3_4" placeholder="Ej: Series" maxlength="30">
                </div>
            </div>
            
            <!-- SECCI√ìN 4: DATAFRAME vs MATRIZ -->
            <div class="section-title">üî¢ Secci√≥n 4: DataFrame vs Matriz (NumPy)</div>
            
            <div class="question-group">
                <div class="question-label">P4.1 (Opci√≥n M√∫ltiple): ¬øQu√© hace a un DataFrame distinto de una matriz NumPy?</div>
                <div class="multiple-choice">
                    <div class="choice-item">
                        <input type="checkbox" id="p4_1a" name="p4_1" value="1">
                        <label for="p4_1a">Etiquetas para columnas</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p4_1b" name="p4_1" value="1">
                        <label for="p4_1b">Permite tipos de datos heterog√©neos</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p4_1c" name="p4_1" value="0">
                        <label for="p4_1c">Broadcasting aritm√©tico</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p4_1d" name="p4_1" value="1">
                        <label for="p4_1d">√çndices personalizados para filas</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P4.2 (Rellenar): ¬øCu√°l es el paquete est√°ndar de Python para objetos matriz?</div>
                <div class="fill-in-group">
                    <input type="text" id="p4_2" name="p4_2" placeholder="Ej: numpy" maxlength="30">
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P4.3 (Verdadero/Falso): Un DataFrame de pandas puede almacenar columnas con tipos de datos mixtos, mientras que una matriz no.</div>
                <div class="true-false-group">
                    <div class="tf-option">
                        <input type="radio" id="p4_3_v" name="p4_3" value="verdadero">
                        <label for="p4_3_v">Verdadero</label>
                    </div>
                    <div class="tf-option">
                        <input type="radio" id="p4_3_f" name="p4_3" value="falso">
                        <label for="p4_3_f">Falso</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P4.4 (Identificar): ¬øQu√© tipo de objeto se crea con np.array([[1,2],[3,4]])?</div>
                <div class="fill-in-group">
                    <input type="text" id="p4_4" name="p4_4" placeholder="Ej: ndarray o matriz" maxlength="30">
                </div>
            </div>
            
            <!-- SECCI√ìN 5: TUPLA, DICCIONARIO, CONJUNTO -->
            <div class="section-title">üéÅ Secci√≥n 5: Tupla, Diccionario y Conjunto</div>
            
            <div class="question-group">
                <div class="question-label">P5.1 (Opci√≥n M√∫ltiple): ¬øCu√°les tipos de objetos Python son mutables?</div>
                <div class="multiple-choice">
                    <div class="choice-item">
                        <input type="checkbox" id="p5_1a" name="p5_1" value="0">
                        <label for="p5_1a">Tupla</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p5_1b" name="p5_1" value="1">
                        <label for="p5_1b">Diccionario</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p5_1c" name="p5_1" value="1">
                        <label for="p5_1c">Conjunto (set)</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p5_1d" name="p5_1" value="1">
                        <label for="p5_1d">Lista</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P5.2 (Rellenar): Escribe un ejemplo de conjunto Python con tres elementos:</div>
                <div class="fill-in-group">
                    <input type="text" id="p5_2" name="p5_2" placeholder="Ej: {1, 2, 3}" maxlength="30">
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P5.3 (Verdadero/Falso): Los diccionarios no pueden contener claves duplicadas.</div>
                <div class="true-false-group">
                    <div class="tf-option">
                        <input type="radio" id="p5_3_v" name="p5_3" value="verdadero">
                        <label for="p5_3_v">Verdadero</label>
                    </div>
                    <div class="tf-option">
                        <input type="radio" id="p5_3_f" name="p5_3" value="falso">
                        <label for="p5_3_f">Falso</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P5.4 (Identificar): Identifica los tipos: x = (5, 6), y = {"a": 1}, z = {8, 9}</div>
                <div class="fill-in-group">
                    <input type="text" id="p5_4" name="p5_4" placeholder="Ej: tupla, diccionario, conjunto" maxlength="50">
                </div>
            </div>
            
            <!-- SECCI√ìN 6: LISTA vs CONJUNTO -->
            <div class="section-title">üìã Secci√≥n 6: Lista vs Conjunto</div>
            
            <div class="question-group">
                <div class="question-label">P6.1 (Opci√≥n M√∫ltiple): ¬øQu√© caracter√≠sticas distinguen un conjunto de una lista?</div>
                <div class="multiple-choice">
                    <div class="choice-item">
                        <input type="checkbox" id="p6_1a" name="p6_1" value="1">
                        <label for="p6_1a">Los elementos son √∫nicos</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p6_1b" name="p6_1" value="0">
                        <label for="p6_1b">Los elementos pueden indexarse</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p6_1c" name="p6_1" value="0">
                        <label for="p6_1c">El orden est√° garantizado</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p6_1d" name="p6_1" value="1">
                        <label for="p6_1d">Soporta operaciones de conjunto (uni√≥n, intersecci√≥n)</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P6.2 (Rellenar): Escribe una lista Python con valores 1, 2 y 2:</div>
                <div class="fill-in-group">
                    <input type="text" id="p6_2" name="p6_2" placeholder="Ej: [1, 2, 2]" maxlength="30">
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P6.3 (Verdadero/Falso): Las listas pueden contener elementos duplicados.</div>
                <div class="true-false-group">
                    <div class="tf-option">
                        <input type="radio" id="p6_3_v" name="p6_3" value="verdadero">
                        <label for="p6_3_v">Verdadero</label>
                    </div>
                    <div class="tf-option">
                        <input type="radio" id="p6_3_f" name="p6_3" value="falso">
                        <label for="p6_3_f">Falso</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P6.4 (Identificar): Identifica qu√© es cada uno: [2, 3, 4] y {2, 3, 4}</div>
                <div class="fill-in-group">
                    <input type="text" id="p6_4" name="p6_4" placeholder="Ej: lista, conjunto" maxlength="30">
                </div>
            </div>
            
            <!-- SECCI√ìN 7: INDENTACI√ìN Y FLUJO DE EJECUCI√ìN -->
            <div class="section-title">üîÑ Secci√≥n 7: Indentaci√≥n y Orden de Ejecuci√≥n</div>
            
            <div class="question-group">
                <div class="question-label">P7.1 (Opci√≥n M√∫ltiple): ¬øCu√°les son niveles de indentaci√≥n v√°lidos en Python?</div>
                <div class="multiple-choice">
                    <div class="choice-item">
                        <input type="checkbox" id="p7_1a" name="p7_1" value="1">
                        <label for="p7_1a">2 espacios</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p7_1b" name="p7_1" value="1">
                        <label for="p7_1b">4 espacios</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p7_1c" name="p7_1" value="1">
                        <label for="p7_1c">1 tabulaci√≥n</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p7_1d" name="p7_1" value="0">
                        <label for="p7_1d">3 espacios</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P7.2 (Rellenar): ¬øQu√© s√≠mbolo es obligatorio al final de una l√≠nea if en Python?</div>
                <div class="fill-in-group">
                    <input type="text" id="p7_2" name="p7_2" placeholder="Ej: :" maxlength="10">
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P7.3 (Verdadero/Falso): Python requiere indentaci√≥n consistente para definir bloques de c√≥digo.</div>
                <div class="true-false-group">
                    <div class="tf-option">
                        <input type="radio" id="p7_3_v" name="p7_3" value="verdadero">
                        <label for="p7_3_v">Verdadero</label>
                    </div>
                    <div class="tf-option">
                        <input type="radio" id="p7_3_f" name="p7_3" value="falso">
                        <label for="p7_3_f">Falso</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P7.4 (Identificar): Identifica el error en este c√≥digo: for i in range(5)\nprint(i)</div>
                <div class="fill-in-group">
                    <input type="text" id="p7_4" name="p7_4" placeholder="Ej: falta dos puntos despu√©s de range(5)" maxlength="50">
                </div>
            </div>
            
            <!-- SECCI√ìN 8: DEFINICI√ìN DE BUCLES -->
            <div class="section-title">üîÅ Secci√≥n 8: Definici√≥n de Bucles (for, while, condicionales)</div>
            
            <div class="question-group">
                <div class="question-label">P8.1 (Opci√≥n M√∫ltiple): ¬øCu√°l es la estructura correcta de un bucle for en Python?</div>
                <div class="multiple-choice">
                    <div class="choice-item">
                        <input type="checkbox" id="p8_1a" name="p8_1" value="1">
                        <label for="p8_1a">for variable in secuencia:</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p8_1b" name="p8_1" value="0">
                        <label for="p8_1b">for variable in secuencia</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p8_1c" name="p8_1" value="0">
                        <label for="p8_1c">for (variable in secuencia):</label>
                    </div>
                    <div class="choice-item">
                        <input type="checkbox" id="p8_1d" name="p8_1" value="1">
                        <label for="p8_1d">Luego hay indentaci√≥n para el cuerpo del bucle</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P8.2 (Rellenar): Completa la estructura: if condition: ... _____ print('no')</div>
                <div class="fill-in-group">
                    <input type="text" id="p8_2" name="p8_2" placeholder="Ej: else:" maxlength="20">
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P8.3 (Verdadero/Falso): La cl√°usula else puede usarse sin elif en una estructura if-elif-else.</div>
                <div class="true-false-group">
                    <div class="tf-option">
                        <input type="radio" id="p8_3_v" name="p8_3" value="verdadero">
                        <label for="p8_3_v">Verdadero</label>
                    </div>
                    <div class="tf-option">
                        <input type="radio" id="p8_3_f" name="p8_3" value="falso">
                        <label for="p8_3_f">Falso</label>
                    </div>
                </div>
            </div>
            
            <div class="question-group">
                <div class="question-label">P8.4 (Identificar): ¬øCu√°l es el error principal? if x > 5\n    print('mayor')</div>
                <div class="fill-in-group">
                    <input type="text" id="p8_4" name="p8_4" placeholder="Ej: falta : despu√©s de la condici√≥n" maxlength="50">
                </div>
            </div>
            
            <div class="button-group">
                <button type="submit" class="btn btn-submit">üì§ Enviar Evaluaci√≥n</button>
                <button type="reset" class="btn btn-reset">üîÑ Limpiar Formulario</button>
            </div>
        </form>
        
        <!-- REPORT SECTION -->
        <div class="report-section" id="reportSection">
            <div class="report-title">üìä Tu Informe de Evaluaci√≥n</div>
            
            <div class="overall-score">
                <h2 id="overallScore">Puntuaci√≥n Total: 0/32</h2>
                <p id="overallMessage"></p>
                <div class="timer-result" id="timerResult" style="display: none;"></div>
            </div>
            
            <div id="reportsContainer"></div>
            
            <div class="inspiration-box">
                <h3>‚ú® Recuerda</h3>
                <p id="inspirationMessage">¬°Cada error es una oportunidad para aprender! Eres capaz de dominar Python. ¬°Sigue adelante!</p>
            </div>
            
            <div class="button-group" style="margin-top: 30px;">
                <button type="button" class="btn btn-pdf" onclick="downloadPDF()">üì• Descargar como PDF</button>
                <button type="button" class="btn btn-reset" onclick="resetAssessment()">üîÑ Nueva Evaluaci√≥n</button>
            </div>
        </div>
    </div>
    
    <script>
        let testMode = 'normal';
        let timerInterval = null;
        let timeRemaining = 0;
        let testStartTime = null;
        let timeTaken = 0;
        
        const correctAnswers = {
            p1_1: [true, true, false, true],
            p1_2: ['(', ')', '( )', '(,)'],
            p1_3: 'verdadero',
            p1_4: ['diccionario', 'dict', 'dictionary'],
            
            p2_1: [true, true, false, true],
            p2_2: ['datos[-3:]', 'datos[-3:len(datos)]'],
            p2_3: 'falso',
            p2_4: ['yth'],
            
            p3_1: [true, true, true, false],
            p3_2: ['pandas', 'pd'],
            p3_3: 'verdadero',
            p3_4: ['series', 'Series'],
            
            p4_1: [true, true, false, true],
            p4_2: ['numpy', 'np'],
            p4_3: 'verdadero',
            p4_4: ['ndarray', 'matriz', 'array'],
            
            p5_1: [false, true, true, true],
            p5_2: null,
            p5_3: 'verdadero',
            p5_4: null,
            
            p6_1: [true, false, false, true],
            p6_2: [[]],
            p6_3: 'verdadero',
            p6_4: ['lista, conjunto', 'list, set'],
            
            p7_1: [true, true, true, false],
            p7_2: [':'],
            p7_3: 'verdadero',
            p7_4: null,
            
            p8_1: [true, false, false, true],
            p8_2: ['else:', 'else'],
            p8_3: 'verdadero',
            p8_4: null
        };
        
        const categories = [
            {name: 'Sintaxis de Objetos', questions: ['p1'], feedbacks: {
                good: '¬°Excelente! Comprendes bien la sintaxis de Python. Sigue practicando con diferentes tipos de entrecomillado.',
                needswork: 'Necesitas repasar la sintaxis de objetos. Practica diferenciando entre comillas simples, dobles y triples en Python.'
            }},
            {name: 'Segmentaci√≥n', questions: ['p2'], feedbacks: {
                good: '¬°Muy bien! El slicing es una habilidad fundamental que dominas correctamente.',
                needswork: 'Practica m√°s slicing. Intenta con ejemplos peque√±os para entender c√≥mo funcionan los √≠ndices negativos y los rangos.'
            }},
            {name: 'Series vs DataFrame', questions: ['p3'], feedbacks: {
                good: '¬°Genial! Entiendes las diferencias entre Series y DataFrames. Esto es crucial para an√°lisis de datos.',
                needswork: 'Revisa la documentaci√≥n de pandas. Crea Series y DataFrames peque√±os para practicar sus diferencias.'
            }},
            {name: 'DataFrame vs Matriz', questions: ['p4'], feedbacks: {
                good: '¬°Excelente comprensi√≥n! Sabes diferenciar entre estructuras de pandas y NumPy.',
                needswork: 'Estudia m√°s sobre NumPy y pandas. Experimenta creando matrices y DataFrames para ver sus diferencias en acci√≥n.'
            }},
            {name: 'Tupla, Diccionario y Conjunto', questions: ['p5'], feedbacks: {
                good: '¬°Perfecto! Comprendes bien estas estructuras de datos fundamentales.',
                needswork: 'Dedica tiempo a practicar tuplas, diccionarios y conjuntos. Son conceptos clave en Python.'
            }},
            {name: 'Lista vs Conjunto', questions: ['p6'], feedbacks: {
                good: '¬°Fant√°stico! Dominas las diferencias entre listas y conjuntos.',
                needswork: 'Practica m√°s con listas y conjuntos. Crea ejemplos para ver cu√°ndo usar cada uno.'
            }},
            {name: 'Indentaci√≥n y Flujo', questions: ['p7'], feedbacks: {
                good: '¬°Muy bien! La indentaci√≥n es cr√≠tica en Python y la entiendes correctamente.',
                needswork: 'La indentaci√≥n es fundamental en Python. Practica escribiendo c√≥digo y prestando atenci√≥n a la indentaci√≥n.'
            }},
            {name: 'Definici√≥n de Bucles', questions: ['p8'], feedbacks: {
                good: '¬°Excelente! Comprendes la estructura de bucles y condicionales en Python.',
                needswork: 'Revisa la sintaxis de bucles y condicionales. Escribe muchos ejemplos peque√±os para practicar.'
            }}
        ];
        
        function selectMode(mode, event) {
            event.preventDefault();
            testMode = mode;
            
            document.querySelectorAll('.mode-option').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            document.getElementById('mode-' + mode).checked = true;
        }
        
        function startTest() {
            document.getElementById('modeSection').classList.add('hide');
            document.getElementById('assessmentForm').classList.add('show');
            
            if (testMode !== 'normal') {
                const timerDisplay = document.getElementById('timerDisplay');
                timerDisplay.classList.add('active');
                
                timeRemaining = testMode === 'timer10' ? 10 : 15;
                testStartTime = Date.now();
                
                updateTimerDisplay();
                startTimer();
            }
            
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
        
        function startTimer() {
            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    autoSubmitTest();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const timerDisplay = document.getElementById('timerDisplay');
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            timerDisplay.textContent = `‚è± ${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeRemaining <= 5) {
                timerDisplay.classList.add('danger');
                timerDisplay.classList.remove('warning');
            } else if (timeRemaining <= 10) {
                timerDisplay.classList.add('warning');
                timerDisplay.classList.remove('danger');
            }
        }
        
        function autoSubmitTest() {
            alert('‚è± ¬°El tiempo se acab√≥! Tu evaluaci√≥n se enviar√° autom√°ticamente.');
            document.getElementById('assessmentForm').dispatchEvent(new Event('submit'));
        }
        
        document.getElementById('assessmentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            if (testStartTime && testMode !== 'normal') {
                timeTaken = Math.floor((Date.now() - testStartTime) / 1000);
            }
            
            calculateResults();
        });
        
        function calculateResults() {
            const scores = {};
            let totalScore = 0;
            let totalPossible = 0;
            
            categories.forEach(cat => {
                const questions = cat.questions;
                let categoryScore = 0;
                let categoryTotal = 0;
                
                questions.forEach(q => {
                    const prefix = q;
                    [1, 2, 3, 4].forEach(i => {
                        const qId = prefix + '_' + i;
                        categoryTotal += 1;
                        totalPossible += 1;
                        
                        if (i === 1) {
                            const checkboxes = document.querySelectorAll(`input[name="${qId}"]:checked`);
                            const answers = correctAnswers[qId];
                            if (answers) {
                                let correct = 0;
                                checkboxes.forEach(cb => {
                                    if (cb.value === '1') correct++;
                                });
                                const allCorrect = answers.filter(a => a === true).length;
                                if (correct === allCorrect) categoryScore++;
                            }
                        } else if (i === 2) {
                            const input = document.getElementById(qId);
                            const answers = correctAnswers[qId];
                            if (answers && input) {
                                const value = input.value.trim().toLowerCase();
                                if (answers.some(a => value.includes(a.toLowerCase()) || a.toLowerCase().includes(value))) {
                                    categoryScore++;
                                }
                            }
                        } else if (i === 3) {
                            const radio = document.querySelector(`input[name="${qId}"]:checked`);
                            const answer = correctAnswers[qId];
                            if (radio && radio.value === answer) {
                                categoryScore++;
                            }
                        } else if (i === 4) {
                            const input = document.getElementById(qId);
                            if (input && input.value.trim().length > 0) {
                                categoryScore++;
                            }
                        }
                    });
                });
                
                scores[cat.name] = {score: categoryScore, total: categoryTotal};
                totalScore += categoryScore;
            });
            
            displayReport(scores, totalScore, totalPossible);
            
            document.getElementById('assessmentForm').classList.add('hide');
            document.getElementById('timerDisplay').classList.remove('active');
            document.getElementById('reportSection').classList.add('show');
            document.getElementById('reportSection').scrollIntoView({behavior: 'smooth'});
        }
        
        function displayReport(scores, totalScore, totalPossible) {
            const container = document.getElementById('reportsContainer');
            container.innerHTML = '';
            
            let excellentCount = 0;
            
            categories.forEach(cat => {
                const {score, total} = scores[cat.name];
                const percentage = (score / total) * 100;
                let status = 'needswork';
                let statusText = 'Necesita mejora';
                
                if (score >= 3) {
                    status = 'good';
                    statusText = '‚úì Bien';
                    excellentCount++;
                } else {
                    status = 'needswork';
                    statusText = '‚ö† Necesita mejora';
                }
                
                const feedback = cat.feedbacks[status];
                
                const card = document.createElement('div');
                card.className = `report-card ${status}`;
                card.innerHTML = `
                    <div class="report-category-title">
                        ${cat.name}
                        <span class="score-badge ${status}">${score}/${total}</span>
                    </div>
                    <div class="report-feedback">
                        <p><strong>${statusText}</strong></p>
                        <p>${feedback}</p>
                    </div>
                `;
                container.appendChild(card);
            });
            
            const overallPercentage = (totalScore / totalPossible) * 100;
            let message = '';
            
            if (excellentCount === categories.length) {
                message = '¬°Eres una estrella! üåü ¬°Has dominado todos los conceptos fundamentales!';
            } else if (excellentCount >= categories.length * 0.75) {
                message = '¬°Excelente trabajo! üéâ Est√°s muy bien encaminado. Sigue practicando.';
            } else if (excellentCount >= categories.length * 0.5) {
                message = '¬°Buen inicio! üí™ Tienes buenos fundamentos. Refuerza las √°reas d√©biles.';
            } else {
                message = '¬°No te desanimes! üöÄ Cada paso es progreso. Dedica m√°s tiempo a practicar.';
            }
            
            document.getElementById('overallScore').textContent = `Puntuaci√≥n Total: ${totalScore}/${totalPossible}`;
            document.getElementById('overallMessage').textContent = message;
            
            if (testMode !== 'normal') {
                const timerResult = document.getElementById('timerResult');
                timerResult.style.display = 'block';
                
                let timeStatus = '';
                if (timeTaken <= 10) {
                    timeStatus = 'üöÄ ¬°Incre√≠ble velocidad!';
                } else if (timeTaken <= 15) {
                    timeStatus = '‚ö° ¬°Muy r√°pido!';
                } else if (timeTaken <= 20) {
                    timeStatus = '‚úì Buen ritmo';
                } else {
                    timeStatus = '‚è± Necesitas m√°s velocidad';
                }
                
                timerResult.innerHTML = `${timeStatus}<br>Tiempo usado: ${timeTaken} segundos`;
            }
            
            document.getElementById('inspirationMessage').textContent = '‚ú® "Cada l√≠nea de c√≥digo que escribes te acerca a ser un experto. ¬°Nunca pares de aprender!"';
        }
        
        function downloadPDF() {
            const element = document.getElementById('reportSection');
            const opt = {
                margin: 10,
                filename: `Evaluacion_Python_${new Date().toISOString().slice(0,10)}.pdf`,
                image: {type: 'jpeg', quality: 0.98},
                html2canvas: {scale: 2, useCORS: true, logging: false},
                jsPDF: {orientation: 'portrait', unit: 'mm', format: 'a4'}
            };
            
            try {
                html2pdf().set(opt).from(element).save();
            } catch(error) {
                console.error('PDF Error:', error);
                alert('Error al descargar PDF. Intenta usar la funci√≥n Imprimir > Guardar como PDF del navegador.');
            }
        }
        
        function resetAssessment() {
            document.getElementById('assessmentForm').reset();
            document.getElementById('reportSection').classList.remove('show');
            document.getElementById('modeSection').classList.remove('hide');
            
            document.querySelectorAll('.mode-option').forEach(el => el.classList.remove('active'));
            document.querySelector('.mode-option').classList.add('active');
            
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            testMode = 'normal';
            timeRemaining = 0;
            testStartTime = null;
            timeTaken = 0;
            
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    </script>
</body>
</html>